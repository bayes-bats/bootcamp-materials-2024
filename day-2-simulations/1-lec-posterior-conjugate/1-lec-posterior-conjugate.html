<!DOCTYPE html>
<html lang="en"><head>
<script src="1-lec-posterior-conjugate_files/libs/clipboard/clipboard.min.js"></script>
<script src="1-lec-posterior-conjugate_files/libs/quarto-html/tabby.min.js"></script>
<script src="1-lec-posterior-conjugate_files/libs/quarto-html/popper.min.js"></script>
<script src="1-lec-posterior-conjugate_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="1-lec-posterior-conjugate_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="1-lec-posterior-conjugate_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="1-lec-posterior-conjugate_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="1-lec-posterior-conjugate_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.3.353">

  <title>Conjugate Priors and their Posteriors</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="1-lec-posterior-conjugate_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="1-lec-posterior-conjugate_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="1-lec-posterior-conjugate_files/libs/revealjs/dist/theme/quarto.css">
  <link href="1-lec-posterior-conjugate_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="1-lec-posterior-conjugate_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="1-lec-posterior-conjugate_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="1-lec-posterior-conjugate_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" data-background-image="https://www.stat.uci.edu/bayes-bats/img/logo.png" data-background-position="50% 95%" data-background-size="12%" class="quarto-title-block center">
  <h1 class="title">Conjugate Priors and their Posteriors</h1>
  <p class="subtitle">Day 2</p>

<div class="quarto-title-authors">
</div>

</section>
<section id="section" class="title-slide slide level1 center">
<h1></h1>
<p>Note that this lecture is based in part on <a href="https://www.bayesrulesbook.com/chapter-5.html">Chapter 5 of Bayes Rules! book</a>.</p>
</section>

<section>
<section id="review-application" class="title-slide slide level1 center">
<h1>Review Application</h1>

</section>
<section id="california-drought" class="slide level2">
<h2>California Drought</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="img/cadrought.jpeg"></p>
</figure>
</div>
</div>
</div>
</div><div class="column" style="width:50%;">
<p>Drought conditions have been a major concern for California residents and policy makers for years. We consider historical data on “extremely dry years” to formulate a prior distribution – for example, from 1900-1999, 42 years were characterized as “extremely dry.” For data analysis, we will assume we go back in time to 2020 and let data from 2020, 2021, and 2022 contribute to our data likelihood.</p>
</div>
</div>
</section>
<section id="prior-distribution-options" class="slide level2">
<h2>Prior Distribution Options</h2>
<p>We can use a beta prior based on the historical data from 1900-1999, during which we had 42 years that were extremely dry, and 58 years that were not. This corresponds to a beta(42,58) prior distribution (remember, the parameters of the beta can be interpreted as prior data: the approximate # of prior dry and non-dry years). Let’s plot and summarize this prior.</p>
<div class="cell" data-layout-align="center">

<div class="cell-output cell-output-stdout">
<pre><code>  mean      mode         var         sd
1 0.42 0.4183673 0.002411881 0.04911091</code></pre>
</div>
</div>
<img data-src="1-lec-posterior-conjugate_files/figure-revealjs/unnamed-chunk-3-1.png" width="960" class="r-stretch quarto-figure-center"><p>Does this seem reasonable?</p>
</section>
<section id="priors-for-drought" class="slide level2">
<h2>Priors for Drought</h2>
<p>California weather has been more variable in recent years, and you may not all agree on an appropriate prior distribution.</p>
<table>
<thead>
<tr class="header">
<th>Time</th>
<th>Historical Data</th>
<th>Prior Model</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1900-1999</td>
<td>42 extremely dry years</td>
<td>Beta(42,58)</td>
</tr>
<tr class="even">
<td>2000-2009</td>
<td>9 extremely dry years</td>
<td>Beta(9,1)</td>
</tr>
<tr class="odd">
<td>2010-2019</td>
<td>7 extremely dry years</td>
<td>Beta(7,3)</td>
</tr>
<tr class="even">
<td>NA</td>
<td>Vague prior not based on data</td>
<td>Beta(1,1)</td>
</tr>
</tbody>
</table>
<p>Pick one of these prior models, or design your own, and plot your prior. Share your plot with colleagues!</p>
</section>
<section id="section-1" class="slide level2">
<h2>2020</h2>
<div class="panel-tabset">
<ul id="tabset-1" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-1-1">Your Models</a></li><li><a href="#tabset-1-2">Amy’s Models</a></li><li><a href="#tabset-1-3">Results</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1">
<table>
<thead>
<tr class="header">
<th>Prior Model</th>
<th style="text-align: center;">Data</th>
<th>Posterior Model</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Beta(?,?)</td>
<td style="text-align: center;">Extremely dry year</td>
<td>Beta(?,?)</td>
</tr>
</tbody>
</table>
</div>
<div id="tabset-1-2">
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Prior Type</th>
<th>Prior Model</th>
<th style="text-align: center;">Data</th>
<th>Posterior Model</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">1900-2019</td>
<td>Beta(58, 62)</td>
<td style="text-align: center;">Extremely dry year</td>
<td>Beta(59,62)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Last 10 years</td>
<td>Beta(7,3)</td>
<td style="text-align: center;">Extremely dry year</td>
<td>Beta(8,3)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Agnostic</td>
<td>Beta(1,1)</td>
<td style="text-align: center;">Extremely dry year</td>
<td>Beta(2,1)</td>
</tr>
</tbody>
</table>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="fu">plot_beta</span>(<span class="dv">59</span>,<span class="dv">62</span>)</span>
<span id="cb2-2"><a href="#cb2-2"></a><span class="fu">plot_beta</span>(<span class="dv">8</span>,<span class="dv">3</span>)</span>
<span id="cb2-3"><a href="#cb2-3"></a><span class="fu">plot_beta</span>(<span class="dv">2</span>,<span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-1-3">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="1-lec-posterior-conjugate_files/figure-revealjs/unnamed-chunk-5-1.png" width="960"></p>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="aside-more-informative-prior" class="slide level2">
<h2>Aside: More Informative Prior</h2>
<p>For the more informative prior, using 121 years of historical data, the prior and posterior are not exactly the same but are very close. We can focus in more closely to see the slight difference.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="fu">plot_beta_binomial</span>(<span class="dv">59</span>, <span class="dv">62</span>, <span class="at">y =</span> <span class="dv">1</span>, <span class="at">n =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb3-2"><a href="#cb3-2"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Prior Using 1900-2020"</span>,<span class="at">y=</span><span class="cn">NULL</span>) <span class="sc">+</span> </span>
<span id="cb3-3"><a href="#cb3-3"></a>  <span class="fu">xlim</span>(<span class="fl">0.3</span>,<span class="fl">0.675</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="1-lec-posterior-conjugate_files/figure-revealjs/unnamed-chunk-6-1.png" width="960" class="r-stretch"></section>
<section id="aside-posterior-proportional-to-likelihood" class="slide level2">
<h2>Aside: Posterior Proportional to Likelihood</h2>

<img data-src="1-lec-posterior-conjugate_files/figure-revealjs/unnamed-chunk-7-1.png" width="960" class="r-stretch"><p>For the uniform prior distribution, the prior takes the same value everywhere, so the posterior distribution (generally proportional to the prior times the likelihood) is simply proportional to the likelihood.</p>
</section>
<section id="section-2" class="slide level2">
<h2>2021</h2>
<p>Now, take your posterior and use it as the prior distribution for analysis of the data from 2021.</p>
</section>
<section id="section-3" class="slide level2">
<h2>2021</h2>
<div class="panel-tabset">
<ul id="tabset-2" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-2-1">Your Models</a></li><li><a href="#tabset-2-2">Amy’s Models</a></li><li><a href="#tabset-2-3">Results</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1">
<table>
<thead>
<tr class="header">
<th>Prior Model</th>
<th style="text-align: center;">Data</th>
<th>Posterior Model</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Beta(?,?)</td>
<td style="text-align: center;">Extremely dry year</td>
<td>Beta(?,?)</td>
</tr>
</tbody>
</table>
</div>
<div id="tabset-2-2">
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Prior Type</th>
<th>Prior Model</th>
<th style="text-align: center;">Data</th>
<th>Posterior Model</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">1900-2020</td>
<td>Beta(59, 62)</td>
<td style="text-align: center;">Extremely dry year</td>
<td>Beta(60,62)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Last 11 years</td>
<td>Beta(8,3)</td>
<td style="text-align: center;">Extremely dry year</td>
<td>Beta(9,3)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Agnostic</td>
<td>Beta(2,1)</td>
<td style="text-align: center;">Extremely dry year</td>
<td>Beta(3,1)</td>
</tr>
</tbody>
</table>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="fu">plot_beta</span>(<span class="dv">60</span>,<span class="dv">62</span>)</span>
<span id="cb4-2"><a href="#cb4-2"></a><span class="fu">plot_beta</span>(<span class="dv">9</span>,<span class="dv">3</span>)</span>
<span id="cb4-3"><a href="#cb4-3"></a><span class="fu">plot_beta</span>(<span class="dv">3</span>,<span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-2-3">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="1-lec-posterior-conjugate_files/figure-revealjs/unnamed-chunk-9-1.png" width="960"></p>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="aside-posterior-proportional-to-likelihood-1" class="slide level2">
<h2>Aside: Posterior Proportional to Likelihood</h2>

<img data-src="1-lec-posterior-conjugate_files/figure-revealjs/unnamed-chunk-10-1.png" width="960" class="r-stretch"><p>In this case, the prior Beta(2,1) is proportional to <span class="math inline">\(\pi^{2-1}(1-\pi)^{1-1}=\pi\)</span>, and the likelihood is also proportional to <span class="math inline">\(\pi^1(1-\pi)^0=\pi\)</span>.</p>
</section>
<section id="section-4" class="slide level2">
<h2>2022</h2>
<p>Finally, take your posterior and use it as the prior distribution for analysis of the data from 2022.</p>
</section>
<section id="section-5" class="slide level2">
<h2>2022</h2>
<div class="panel-tabset">
<ul id="tabset-3" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-3-1">Your Models</a></li><li><a href="#tabset-3-2">Amy’s Models</a></li><li><a href="#tabset-3-3">Results</a></li></ul>
<div class="tab-content">
<div id="tabset-3-1">
<table>
<thead>
<tr class="header">
<th>Prior Model</th>
<th style="text-align: center;">Data</th>
<th>Posterior Model</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Beta(?,?)</td>
<td style="text-align: center;">Extremely dry year</td>
<td>Beta(?,?)</td>
</tr>
</tbody>
</table>
</div>
<div id="tabset-3-2">
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Prior Type</th>
<th>Prior Model</th>
<th style="text-align: center;">Data</th>
<th>Posterior Model</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">1900-2021</td>
<td>Beta(60, 62)</td>
<td style="text-align: center;">Extremely dry year</td>
<td>Beta(61,62)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Last 12 years</td>
<td>Beta(9,3)</td>
<td style="text-align: center;">Extremely dry year</td>
<td>Beta(10,3)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Agnostic</td>
<td>Beta(3,1)</td>
<td style="text-align: center;">Extremely dry year</td>
<td>Beta(4,1)</td>
</tr>
</tbody>
</table>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="fu">plot_beta</span>(<span class="dv">61</span>,<span class="dv">62</span>)</span>
<span id="cb5-2"><a href="#cb5-2"></a><span class="fu">plot_beta</span>(<span class="dv">10</span>,<span class="dv">3</span>)</span>
<span id="cb5-3"><a href="#cb5-3"></a><span class="fu">plot_beta</span>(<span class="dv">4</span>,<span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-3-3">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="1-lec-posterior-conjugate_files/figure-revealjs/unnamed-chunk-12-1.png" width="960"></p>
</div>
</div>
</div>
</div>
</div>
</section></section>
<section>
<section id="continuous-response-data-the-normal-normal-model" class="title-slide slide level1 center">
<h1>Continuous Response Data: The Normal-Normal Model</h1>

</section>
<section id="data" class="slide level2">
<h2>Data</h2>
<p>Example from <a href="https://bayesrulesbook.com">bayesrulesbook.com</a></p>
<p>Let <span class="math inline">\((Y_1,Y_2,\ldots,Y_{25})\)</span> denote the hippocampal volumes for the <span class="math inline">\(n = 25\)</span> study subjects who played collegiate American football and who have been diagnosed with concussions:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a><span class="co"># Load the data</span></span>
<span id="cb6-2"><a href="#cb6-2"></a><span class="fu">library</span>(bayesrules)</span>
<span id="cb6-3"><a href="#cb6-3"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb6-4"><a href="#cb6-4"></a><span class="fu">data</span>(football)</span>
<span id="cb6-5"><a href="#cb6-5"></a></span>
<span id="cb6-6"><a href="#cb6-6"></a><span class="co"># Filter the data</span></span>
<span id="cb6-7"><a href="#cb6-7"></a>football <span class="ot">&lt;-</span> football <span class="sc">%&gt;%</span></span>
<span id="cb6-8"><a href="#cb6-8"></a>  <span class="fu">filter</span>(group <span class="sc">==</span> <span class="st">"fb_concuss"</span>) </span>
<span id="cb6-9"><a href="#cb6-9"></a><span class="co"># Calcuate mean and sd of volumes</span></span>
<span id="cb6-10"><a href="#cb6-10"></a>football <span class="sc">%&gt;%</span></span>
<span id="cb6-11"><a href="#cb6-11"></a>  <span class="fu">summarize</span>(<span class="fu">mean</span>(volume), <span class="fu">sd</span>(volume))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  mean(volume) sd(volume)
1       5.7346  0.5933976</code></pre>
</div>
</div>
</section>
<section id="data-1" class="slide level2">
<h2>Data</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a><span class="fu">ggplot</span>(football, <span class="fu">aes</span>(<span class="at">x =</span> volume)) <span class="sc">+</span> </span>
<span id="cb8-2"><a href="#cb8-2"></a>  <span class="fu">geom_density</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="1-lec-posterior-conjugate_files/figure-revealjs/unnamed-chunk-14-1.png" width="960" class="r-stretch"></section>
<section id="the-normal-model" class="slide level2">
<h2>The Normal Model</h2>
<p>Let <span class="math inline">\(Y\)</span> be a random variable which can take any value between <span class="math inline">\(-\infty\)</span> and <span class="math inline">\(\infty\)</span>, ie. <span class="math inline">\(Y \in (-\infty,\infty)\)</span>. Then the variability in <span class="math inline">\(Y\)</span> might be well represented by a Normal model with <strong>mean parameter</strong> <span class="math inline">\(\mu \in (-\infty, \infty)\)</span> and <strong>standard deviation parameter</strong> <span class="math inline">\(\sigma &gt; 0\)</span>:</p>
<p><span class="math display">\[Y \sim N(\mu, \sigma^2)\]</span></p>
<p>The Normal model is specified by continuous pdf</p>
<p><span class="math display">\[\begin{equation}
f(y) = \frac{1}{\sqrt{2\pi\sigma^2}} \exp\bigg[{-\frac{(y-\mu)^2}{2\sigma^2}}\bigg] \;\; \text{ for } y \in (-\infty,\infty)
\end{equation}\]</span></p>
</section>
<section id="trends-and-variability-of-the-normal-model" class="slide level2">
<h2>Trends and Variability of the Normal Model</h2>
<p><span class="math display">\[\begin{split}
E(Y) &amp; = \text{ Mode}(Y) = \mu \\
\text{Var}(Y) &amp; = \sigma^2 \\
\end{split}\]</span></p>
<p>Further, <span class="math inline">\(\sigma\)</span> provides a sense of scale for <span class="math inline">\(Y\)</span>. Roughly 95% of <span class="math inline">\(Y\)</span> values will be within 2 standard deviations of <span class="math inline">\(\mu\)</span>:</p>
<p><span class="math display">\[\begin{equation}
\mu \pm 2\sigma \; .
\end{equation}\]</span></p>
</section>
<section id="normal-models" class="slide level2">
<h2>Normal models</h2>

<img data-src="1-lec-posterior-conjugate_files/figure-revealjs/normal-tuning-1.png" width="1152" class="r-stretch"></section>
<section id="normal-likelihood" class="slide level2">
<h2>Normal Likelihood</h2>
<p><span class="math display">\[L(\mu |\vec{y})= \prod_{i=1}^{n}L(\mu | y_i) = \prod_{i=1}^{n}\frac{1}{\sqrt{2\pi\sigma^2}} \exp\bigg[{-\frac{(y_i-\mu)^2}{2\sigma^2}}\bigg].\]</span></p>
<p>Simplifying this up to a <em>proportionality</em> constant</p>
<p><span class="math display">\[L(\mu |\vec{y}) \propto \prod_{i=1}^{n} \exp\bigg[{-\frac{(y_i-\mu)^2}{2\sigma^2}}\bigg] =  \exp\bigg[{-\frac{\sum_{i=1}^n (y_i-\mu)^2}{2\sigma^2}}\bigg] \; .\]</span></p>
<div class="fragment">
<p><span class="math display">\[\begin{equation}
L(\mu | \vec{y}) \propto \exp\bigg[{-\frac{(\bar{y}-\mu)^2}{2\sigma^2/n}}\bigg] \;\;\;\; \text{ for } \; \mu \in (-\infty, \infty).
\end{equation}\]</span></p>
</div>
</section>
<section id="section-6" class="slide level2">
<h2></h2>
<p><span class="math display">\[L(\mu | \vec{y}) \propto \exp\bigg[{-\frac{(5.735-\mu)^2}{2(0.593^2/25)}}\bigg] \;\;\;\; \text{ for } \; \mu \in (-\infty, \infty),\]</span></p>

<img data-src="1-lec-posterior-conjugate_files/figure-revealjs/likelihood-hippocampus-ch5-1.png" width="960" class="r-stretch quarto-figure-center"><p class="caption">The joint Normal likelihood function for the mean hippocampal volume.</p></section>
<section id="normal-prior-for-the-mean" class="slide level2">
<h2>Normal Prior for the Mean</h2>
<p><span class="math display">\[\mu \sim N(\theta, \tau^2) \; , \]</span></p>
<p>with prior pdf</p>
<p><span class="math display">\[\begin{equation}
f(\mu) = \frac{1}{\sqrt{2\pi\tau^2}} \exp\bigg[{-\frac{(\mu - \theta)^2}{2\tau^2}}\bigg] \;\; \text{ for } \mu \in (-\infty,\infty) \; .
\end{equation}\]</span></p>
<div class="fragment">
<p><a href="https://en.wikipedia.org/wiki/Hippocampus">Wikipedia</a> tells us that among the general population of human adults, both halves of the hippocampus have a volume between 3.0 and 3.5 cubic centimeters. Thus the <em>total</em> hippocampal volume of <em>both</em> sides of the brain is between 6 and 7 cubic centimeters. A standard deviation <span class="math inline">\(\sigma=0.5\)</span> for a normal prior centered at 6.5 puts about 2/3 of the mass of the prior in this range: <span class="math inline">\(\mu \sim N(6.5, 0.5^2) \;.\)</span></p>
</div>
</section>
<section id="n6.5-0.52-distribution" class="slide level2">
<h2><span class="math inline">\(N(6.5, 0.5^2)\)</span> Distribution</h2>

<img data-src="1-lec-posterior-conjugate_files/figure-revealjs/unnamed-chunk-15-1.png" width="960" class="r-stretch"></section>
<section id="the-normal-normal-bayesian-model" class="slide level2">
<h2>The Normal-Normal Bayesian Model</h2>
<p>Let <span class="math inline">\(\mu \in (-\infty,\infty)\)</span> be an unknown <em>mean</em> parameter and <span class="math inline">\((Y_1,Y_2,\ldots,Y_n)\)</span> be an independent <span class="math inline">\(N(\mu,\sigma^2)\)</span> sample where <span class="math inline">\(\sigma\)</span> is assumed to be <em>known</em> (we’ll relax this strong assumption shortly). The Normal-Normal Bayesian model complements the Normal structure of the data with a Normal prior on <span class="math inline">\(\mu\)</span>:</p>
<p><span class="math display">\[\begin{split}
Y_i | \mu &amp; \stackrel{ind}{\sim} N(\mu, \sigma^2) \\
\mu &amp; \sim N(\theta, \tau^2) \\
\end{split}\]</span></p>
<p>Upon observing data <span class="math inline">\(\vec{y} = (y_1,y_2,\ldots,y_n)\)</span>, the posterior model of <span class="math inline">\(\mu\)</span> is <span class="math inline">\(N(\mu_n,\tau^2_n)\)</span>.</p>
</section>
<section id="normal-posterior" class="slide level2">
<h2>Normal Posterior</h2>
<p>In the posterior <span class="math inline">\(N(\mu_n,\tau^2_n)\)</span>, we have <span class="math display">\[\mu_n=\frac{\bigg(\frac{1}{\tau^2}\bigg)\theta+\bigg(\frac{n}{\sigma^2}\bigg)\bar{y}}{\frac{1}{\tau^2}+\frac{n}{\sigma^2}}\]</span> and <span class="math display">\[\tau^2_n=\frac{1}{\frac{1}{\tau^2}+\frac{n}{\sigma^2}}.\]</span></p>
<div class="fragment">
<p>The <strong>inverse variance</strong> <span class="math inline">\(\frac{1}{\tau^2_n}\)</span> is also called the <strong>precision</strong>. Note <span class="math inline">\(\frac{1}{\tau^2_n}=\frac{1}{\tau^2}+\frac{n}{\sigma^2}\)</span> and thus the posterior precision is the prior precision (inverse variance) combined with the inverse data variance (information).</p>
</div>
</section>
<section id="posterior-mean-as-weighted-average-of-prior-and-sample-means" class="slide level2">
<h2>Posterior Mean as Weighted Average of Prior and Sample Means</h2>
<p>Now <span class="math display">\[\mu_n=\frac{\bigg(\frac{1}{\tau^2}\bigg)\theta+\bigg(\frac{n}{\sigma^2}\bigg)\bar{y}}{\frac{1}{\tau^2}+\frac{n}{\sigma^2}}.\]</span></p>
<p>Notice that the posterior mean is a weighted average of the prior mean and the sample mean, with the prior mean weighted by the prior precision, and the sample mean weighted by its sampling precision.</p>
</section>
<section id="back-to-brains" class="slide level2">
<h2>Back to Brains</h2>
<p>For the hippocampus data, we selected the prior <span class="math inline">\(\mu \sim N(6.5, 0.5^2)\)</span>, and recall in our dataset the mean was 5.735 and sd was 0.593.</p>
<p>The posterior model of <span class="math inline">\(\mu\)</span> is:</p>
<p><span class="math display">\[\mu | \vec{y} \; \sim \; N\bigg(\frac{6.5*\frac{1}{0.5^2} + 5.735*\frac{25}{0.593^2}}{\frac{1}{0.5^2}+\frac{25}{0.593^2}}, \; \frac{1}{\frac{1}{0.5^2}+\frac{25}{0.593^2}}\bigg)\;,\]</span></p>
<p>or, further simplified,</p>
<p><span class="math display">\[\mu | \vec{y} \; \sim \; N\bigg(5.776, 0.115^2 \bigg) \; .\]</span></p>
</section>
<section id="section-7" class="slide level2">
<h2></h2>

<img data-src="1-lec-posterior-conjugate_files/figure-revealjs/unnamed-chunk-16-1.png" width="864" class="r-stretch"></section>
<section id="section-8" class="slide level2 center">
<h2></h2>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>      model     mean     mode        var        sd
1     prior 6.500000 6.500000 0.25000000 0.5000000
2 posterior 5.775749 5.775749 0.01331671 0.1153981</code></pre>
</div>
</div>
</section>
<section id="interpretation-of-conjugate-prior-in-terms-of-historical-data" class="slide level2 scrollable">
<h2>Interpretation of Conjugate Prior in Terms of Historical Data</h2>
<p>If we base our prior mean on <span class="math inline">\(n_0\)</span> observations from a similar population as <span class="math inline">\((Y_1,Y_2,\ldots,Y_n)\)</span>, we may wish to set <span class="math inline">\(\tau^2=\frac{\sigma^2}{n_0}\)</span>, the variance of the mean of the prior observations. In this case, we can simplify our equation as</p>
<p><span class="math display">\[\mu_n=\frac{\bigg(\frac{1}{\tau^2}\bigg)\theta+\bigg(\frac{n}{\sigma^2}\bigg)\bar{y}}{\frac{1}{\tau^2}+\frac{n}{\sigma^2}} = \frac{\bigg(\frac{n_0}{\sigma^2}\bigg)\theta+\bigg(\frac{n}{\sigma^2}\bigg)\bar{y}}{\frac{n_0}{\sigma^2}+\frac{n}{\sigma^2}}\]</span> <span class="math display">\[\mu_n= \bigg(\frac{n_0}{n_0+n}\bigg)\theta + \bigg(\frac{n}{n_0+n}\bigg)\bar{y},\]</span> so we see our conjugate prior has an interpretation in terms of historical data when <span class="math inline">\(\theta\)</span> is the prior mean in a sample of size <span class="math inline">\(n_0\)</span>.</p>
</section>
<section id="known-sigma2" class="slide level2">
<h2>Known <span class="math inline">\(\sigma^2\)</span>?</h2>
<p>When is <span class="math inline">\(\sigma^2\)</span> actually known? Well, pretty much never. This case is primarily used for didactic purposes.</p>
</section>
<section id="conjugate-inference-in-normal-normal-model-with-sigma2-unknown" class="slide level2">
<h2>Conjugate Inference in Normal-Normal Model with <span class="math inline">\(\sigma^2\)</span> Unknown</h2>
<p>Typically, we make joint inference for the mean and variance. Using probability axioms, we express a joint distribution as a product of a conditional probability and a marginal probability, e.g.&nbsp;<span class="math display">\[f(\mu,\sigma^2)=f(\mu \mid \sigma^2)f(\sigma^2).\]</span></p>
</section>
<section id="prior-for-sigma2" class="slide level2">
<h2>Prior for <span class="math inline">\(\sigma^2\)</span></h2>
<p>For <span class="math inline">\(\sigma^2\)</span>, we need a prior with support on <span class="math inline">\((0,\infty)\)</span>. One nice option is the gamma distribution. While this distribution is not conjugate for <span class="math inline">\(\sigma^2\)</span>, it is conjugate for the precision, <span class="math inline">\(\frac{1}{\sigma^2}\)</span></p>
<div class="fragment">
<p>The gamma distribution is parameterized in terms of a shape parameter <span class="math inline">\(\alpha\)</span> and rate parameter <span class="math inline">\(\beta\)</span> and has mean <span class="math inline">\(\frac{\alpha}{\beta}\)</span> and variance <span class="math inline">\(\frac{\alpha}{\beta^2}\)</span>.</p>
<p>We write these prior models as <span class="math inline">\(\frac{1}{\sigma^2} \sim \text{gamma}(\alpha,\beta)\)</span> or equivalently <span class="math inline">\(\sigma^2 \sim \text{inverse-gamma}(\alpha,\beta)\)</span>.</p>
</div>
</section>
<section id="gamma-models" class="slide level2">
<h2>Gamma Models</h2>
<p>Suppose we think the variance should be centered around <span class="math inline">\(\frac{1}{2}\)</span>. Here are some gamma priors (for the precision) all with mean <span class="math inline">\(2=\frac{1}{0.5}\)</span>.</p>

<img data-src="1-lec-posterior-conjugate_files/figure-revealjs/gamma-tuning-1.png" width="1152" class="r-stretch"></section>
<section id="interpretable-gamma-prior-model-for-precision" class="slide level2">
<h2>Interpretable Gamma Prior Model for Precision</h2>
<p>Recall the <span class="math inline">\(\text{gamma}(\alpha,\beta)\)</span> prior has mean <span class="math inline">\(\frac{\alpha}{\beta}\)</span>. One way to pick <span class="math inline">\(\alpha\)</span> and <span class="math inline">\(\beta\)</span> would be to center the prior on an existing estimate of the precision. So for interpretability, we can set <span class="math display">\[\frac{1}{\sigma^2} \sim \text{gamma}\bigg(\frac{\nu_0}{2},\frac{\nu_0\sigma^2_0}{2}\bigg),\]</span> where we interpret <span class="math inline">\(\sigma^2_0\)</span> as the sample variance from a sample of prior observations of size <span class="math inline">\(\nu_0\)</span>.</p>
<div class="fragment">
<p>This prior for the precision has mean <span class="math inline">\(\frac{1}{\sigma^2_0}\)</span>.</p>
</div>
</section>
<section id="normal-inverse-gamma-conjugate-prior-model" class="slide level2">
<h2>Normal-Inverse Gamma Conjugate Prior Model</h2>
<p>When our priors are <span class="math display">\[\frac{1}{\sigma^2} \sim \text{gamma}\bigg(\frac{\nu_0}{2},\frac{\nu_0\sigma^2_0}{2}\bigg)\]</span> and <span class="math display">\[\mu \mid \sigma^2 \sim N\bigg(\theta,\frac{\sigma^2}{n_0}\bigg), \]</span> and our data model is <span class="math display">\[Y_1, \ldots, Y_n \mid \mu, \sigma^2 \sim N(\mu,\sigma^2)... \]</span></p>
</section>
<section id="normal-inverse-gamma-conjugate-prior-model-1" class="slide level2">
<h2>Normal-Inverse Gamma Conjugate Prior Model</h2>
<p>… we have a conjugate prior for the variance and a <em>conditionally-conjugate</em> prior for the mean. The <strong>full conditional posterior</strong> for <span class="math inline">\(\mu\)</span> is <span class="math display">\[\mu \mid Y_1, \ldots, Y_n, \sigma^2 \sim N\bigg(\mu_n, \frac{\sigma^2}{n*}\bigg),\]</span> where <span class="math inline">\(n^*=n_0+n\)</span> and <span class="math inline">\(\mu_n=\frac{\frac{n_0}{\sigma^2}\theta+\frac{n}{\sigma^2}\bar{y}}{\frac{n_0}{\sigma^2}+\frac{n}{\sigma^2}}=\frac{n_0\theta+n\bar{y}}{n^*}.\)</span></p>
<p>With <span class="math inline">\(\theta\)</span> viewed as the mean of <span class="math inline">\(n_0\)</span> prior observations, then <span class="math inline">\(E(\mu \mid Y_1, \ldots, Y_n,\sigma^2)\)</span> is the sample mean of the current and prior observations, and <span class="math inline">\(\text{Var}(\mu \mid Y_1, \ldots, Y_n, \sigma^2)\)</span> is <span class="math inline">\(\sigma^2\)</span> divided by the total number of observations (prior+current).</p>
</section>
<section id="normal-inverse-gamma-conjugate-prior-model-2" class="slide level2">
<h2>Normal-Inverse Gamma Conjugate Prior Model</h2>
<p>To get the <strong>marginal posterior</strong> of <span class="math inline">\(\sigma^2\)</span>, we integrate over the unknown value of <span class="math inline">\(\mu\)</span> and obtain <span class="math display">\[\frac{1}{\sigma^2} \mid Y_1, \ldots, Y_n \sim \text{gamma}\bigg(\frac{\nu_n}{2},\frac{\nu_n \sigma^2_n}{2}\bigg),\]</span> where <span class="math inline">\(\nu_n=\nu_0+n\)</span>, <span class="math display">\[\sigma^2_n=\frac{1}{\nu_n}\bigg[\nu_0\sigma^2_0 + (n-1)s^2 + \frac{n_0n}{n^*}(\bar{y}-\theta)^2\bigg],\]</span> where <span class="math inline">\(s^2=\frac{\sum_{i=1}^n (y_i-\bar{y})^2}{n-1}\)</span> is the sample variance.</p>

<img src="https://www.stat.uci.edu/bayes-bats/img/logo.png" class="slide-logo r-stretch"><div class="footer footer-default">

</div>
</section></section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="1-lec-posterior-conjugate_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="1-lec-posterior-conjugate_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="1-lec-posterior-conjugate_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="1-lec-posterior-conjugate_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="1-lec-posterior-conjugate_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="1-lec-posterior-conjugate_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="1-lec-posterior-conjugate_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="1-lec-posterior-conjugate_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="1-lec-posterior-conjugate_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="1-lec-posterior-conjugate_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <!-- From: https://github.com/quarto-dev/quarto-cli/discussions/557 -->
    <script type="text/javascript">
      Reveal.on('ready', event => {
        if (event.indexh === 0) {
          document.querySelector("div.has-logo > img.slide-logo").style.display = "none";
        }
      });
      Reveal.addEventListener('slidechanged', (event) => {
        if (event.indexh === 0) {
          Reveal.configure({ slideNumber: null });
          document.querySelector("div.has-logo > img.slide-logo").style.display = "none";
        }
        if (event.indexh === 1) { 
          Reveal.configure({ slideNumber: 'c/t' });
          document.querySelector("div.has-logo > img.slide-logo").style.display = null;
        }
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        text: function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>